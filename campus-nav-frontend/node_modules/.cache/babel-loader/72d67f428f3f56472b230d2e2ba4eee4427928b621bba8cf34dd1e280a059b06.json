{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"./Auth.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=()=>{const[formData,setFormData]=useState({name:\"\",email:\"\",password:\"\"});const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(\"\");const navigate=useNavigate();const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError(\"\");// Basic client-side validation\nif(formData.password.length<6){setError(\"Password must be at least 6 characters\");setIsLoading(false);return;}try{// const response = await fetch(\"http://localhost:5000/api/auth/signup\", {\nconst response=await fetch(\"https://campus-navigation-system-backend.onrender.com/api/auth/signup\",{// Updated URL\nmethod:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});const data=await response.json();if(!response.ok){throw new Error(data.message||\"Signup failed\");}alert(\"Signup successful! Please login.\");navigate(\"/login\");}catch(err){console.error(\"Signup Error:\",err);setError(err.message||\"Error during signup\");}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password (min 6 characters)\",value:formData.password,onChange:handleChange,required:true,minLength:\"6\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?\"Signing Up...\":\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})});};export default Signup;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Signup","formData","setFormData","name","email","password","isLoading","setIsLoading","error","setError","navigate","handleChange","e","target","value","handleSubmit","preventDefault","length","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","alert","err","console","className","children","onSubmit","type","placeholder","onChange","required","minLength","disabled","to"],"sources":["/home/rguktrkvalley/Desktop/CampusNavigationFinal/CampusNavigation/campus-nav-frontend/src/pages/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Auth.css\";\n\nconst Signup = () => {\n  const [formData, setFormData] = useState({ \n    name: \"\", \n    email: \"\", \n    password: \"\" \n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(\"\");\n\n    // Basic client-side validation\n    if (formData.password.length < 6) {\n      setError(\"Password must be at least 6 characters\");\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n     // const response = await fetch(\"http://localhost:5000/api/auth/signup\", {\n      const response = await fetch(\"https://campus-navigation-system-backend.onrender.com/api/auth/signup\", {  // Updated URL\n      \n     method: \"POST\",\n        headers: { \n          \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n      \n      if (!response.ok) {\n        throw new Error(data.message || \"Signup failed\");\n      }\n\n      alert(\"Signup successful! Please login.\");\n      navigate(\"/login\");\n    } catch (err) {\n      console.error(\"Signup Error:\", err);\n      setError(err.message || \"Error during signup\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-box\">\n        <h2>Sign Up</h2>\n        {error && <div className=\"error-message\">{error}</div>}\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Name\"\n            value={formData.name}\n            onChange={handleChange}\n            required\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password (min 6 characters)\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n            minLength=\"6\"\n          />\n          <button type=\"submit\" disabled={isLoading}>\n            {isLoading ? \"Signing Up...\" : \"Sign Up\"}\n          </button>\n        </form>\n        <p>\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}